parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r},p.cache={};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"MlSr":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){function t(){this._htmlDocument=document.documentElement,this.update()}return Object.defineProperty(t.prototype,"viewportWidth",{get:function(){return this._viewportWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"viewportHeight",{get:function(){return this._viewportHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"viewportRatio",{get:function(){return this._viewportRatio},enumerable:!0,configurable:!0}),t.prototype.update=function(){this._viewportWidth=this._htmlDocument.clientWidth,this._viewportHeight=this._htmlDocument.clientHeight,this._viewportRatio=this._viewportHeight/this.viewportWidth},t}();exports.default=t;
},{}],"xUrU":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){function t(){this.items=new Map,this.items.set(t.ALL_ITEMS,[])}return t.prototype.addItem=function(e,s){this.items.get(t.ALL_ITEMS).push(e);for(var i=0,o=s;i<o.length;i++){var r=o[i],n=this.items.get(r);n?n.push(e):this.items.set(r,[e])}},t.prototype.getItems=function(e){return void 0===e&&(e=t.ALL_ITEMS),this.items.get(e)},t.ALL_ITEMS="__all__",t}();exports.default=t;
},{}],"x7M/":[function(require,module,exports) {
"use strict";var t=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};exports.__esModule=!0;var r=t(require("./browser-window")),e=t(require("./world")),o=function(){function t(){this.browserWindow=new r.default,this.world=new e.default}return t.prototype.spawn=function(t,r){return void 0===r&&(r=[]),t.world=this.world,this.world.addItem(t,r),this},t.prototype.start=function(){var t=this,r=0;window.requestAnimationFrame(function e(o){t.browserWindow.update();var n=o-r;t.plan(n).move(n).render(),r=o,window.requestAnimationFrame(e)})},t.prototype.plan=function(t){for(var r=0,e=this.world.getItems();r<e.length;r++){e[r].plan(t)}return this},t.prototype.move=function(t){for(var r=0,e=this.world.getItems();r<e.length;r++){e[r].move(t,this.browserWindow.viewportRatio)}return this},t.prototype.render=function(){for(var t=0,r=this.world.getItems();t<r.length;t++){r[t].render(this.browserWindow)}return this},t}();exports.default=o;
},{"./browser-window":"MlSr","./world":"xUrU"}],"eMjC":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){function t(t,e){this.x=t,this.y=e}return t.center=function(t){return 1===t.length?t[0]:t.reduce(function(t,e){return t.add(e)}).divide(t.length)},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.add=function(e){return new t(this.x+e.x,this.y+e.y)},t.prototype.substract=function(e){return new t(this.x-e.x,this.y-e.y)},t.prototype.multiply=function(e){return new t(this.x*e,this.y*e)},t.prototype.divide=function(e){return new t(this.x/e,this.y/e)},t.prototype.mirrorHorizontal=function(){return new t(this.x,-this.y)},t.prototype.mirrorVertical=function(){return new t(-this.x,this.y)},t.prototype.negate=function(){return new t(-this.x,-this.y)},t.prototype.rotateDeg=function(t){return this.rotateRad(t*Math.PI/180)},t.prototype.rotateDegMax=function(t,e){return t>e?this.rotateDeg(e):t<-e?this.rotateDeg(-e):this.rotateDeg(t)},t.prototype.rotateRad=function(e){var n=Math.sin(e),r=Math.cos(e);return new t(r*this.x-n*this.y,n*this.x+r*this.y)},t.prototype.rotateRadMax=function(t,e){return t>e?this.rotateRad(e):t<-e?this.rotateRad(-e):this.rotateRad(t)},t.prototype.rotateTowards=function(t,e){return this.rotateDegMax(t.orientationDeg()-this.orientationDeg(),e)},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.normalize=function(t){return void 0===t&&(t=1),this.divide(this.length()/t)},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.orientationDeg=function(){return(this.y<0?180:0)-180*this.angleRad()/Math.PI},t.prototype.orientationRad=function(){return(this.y<0?Math.PI:0)-this.angleRad()},t.prototype.quadDistance=function(t){return Math.pow(t.x-this.x,2)+Math.pow(t.y-this.y,2)},t.prototype.distance=function(t){return Math.sqrt(this.quadDistance(t))},t.prototype.angleRad=function(){return Math.atan(this.x/this.y)},t}();exports.default=t;
},{}],"r8Fl":[function(require,module,exports) {
"use strict";var i=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};exports.__esModule=!0;var t=i(require("../geometry/point2d")),e=function(){function i(i,e,n){void 0===e&&(e=new t.default(0,0)),void 0===n&&(n=new t.default(0,0)),this.id=i,this.position=e,this.heading=n}return i.prototype.executeMovement=function(i){return this.position=this.position.add(new t.default(i*this.heading.x,i*this.heading.y)),this},i.prototype.bounceOfWalls=function(i){return(this.position.x<0&&this.heading.x<0||this.position.x>1&&this.heading.x>0)&&(this.heading=this.heading.mirrorVertical()),(this.position.y<0&&this.heading.y<0||this.position.y>i&&this.heading.y>0)&&(this.heading=this.heading.mirrorHorizontal()),this},i}();exports.default=e;
},{"../geometry/point2d":"eMjC"}],"nawu":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){function t(t,e,i){this.dimensions=i,this.htmlElement=document.createElement("div"),this.htmlElement.className=e,this.htmlElement.style.position="absolute",this.htmlElement.style.top="0",this.htmlElement.style.left="0",t.appendChild(this.htmlElement)}return t.prototype.render=function(t,e,i){void 0===i&&(i=null);var n=(e.x-this.dimensions.x/2)*t.viewportWidth,s=t.viewportHeight-(e.y+this.dimensions.y/2)*t.viewportWidth,l=i?-i.orientationDeg():0,h=this.dimensions.x*t.viewportWidth/this.htmlElement.clientWidth;this.htmlElement.style.transform="translate("+n+"px, "+s+"px)\n       rotate("+l+"deg)\n       scale("+h+", "+h+")"},t}();exports.default=t;
},{}],"11d2":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};exports.__esModule=!0;var i=e(require("../engine/geometry/point2d")),t=e(require("../engine/physics/peg")),n=e(require("../engine/view/sprite")),o=function(){function e(e){this.id=e,this.peg=new t.default(e+"--peg",new i.default(Math.random(),Math.random()),new i.default(Math.random(),Math.random()).normalize(2e-4)),this.sprite=new n.default(document.documentElement,"bird",new i.default(.005,.005))}return e.prototype.plan=function(e){for(var t=1,n=this.peg.position,o=1,s=this.peg.heading,a=0,r=new i.default(0,0),d=0,p=this.world.getItems("bird");d<p.length;d++){var h=p[d];if(h!==this){var g=this.peg.position.quadDistance(h.peg.position);g>.04||(++t,n=n.add(h.peg.position),g>.01||(++o,s=s.add(h.peg.heading),g>25e-5||(++a,r=r.add(h.peg.position.substract(this.peg.position)))))}}var u=t>1?n.divide(t).substract(this.peg.position).normalize(1):this.peg.heading.normalize(1),l=s.divide(o).normalize(4),m=a>0?r.divide(a).negate().normalize(2):this.peg.heading.normalize(2);this.movementWish=u.add(l).add(m).normalize(2e-4)},e.prototype.move=function(e,i){this.peg.heading=this.movementWish,this.peg.executeMovement(e).bounceOfWalls(i)},e.prototype.render=function(e){this.sprite.render(e,this.peg.position,this.peg.heading)},e}();exports.default=o;
},{"../engine/geometry/point2d":"eMjC","../engine/physics/peg":"r8Fl","../engine/view/sprite":"nawu"}],"AkF7":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){function t(){this.distance=new Map}return t.prototype.distanceBetween=function(t,i){this.distance.get(t.id)||this.distance.set(t.id,new Map);var e=this.distance.get(t.id).get(i.id);if(e)return e;var s=t.position.quadDistance(i.position);return this.distance.get(t.id).set(i.id,s),this.distance.get(i.id)||this.distance.set(i.id,new Map),this.distance.get(i.id).set(t.id,s),s},t}();exports.default=t;
},{}],"7KDb":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};exports.__esModule=!0;var t=e(require("../engine/geometry/point2d")),i=e(require("../engine/physics/peg")),n=e(require("../engine/view/sprite")),o=function(){function e(e){this.id=e,this.peg=new i.default("hunter--peg",new t.default(0,0),new t.default(1,1).normalize(4e-4)),this.sprite=new n.default(document.documentElement,"hunter",new t.default(.05,.05))}return e.prototype.plan=function(e){for(var t=1,i=null,n=0,o=this.world.getItems("bird");n<o.length;n++){var s=o[n],r=this.peg.position.quadDistance(s.peg.position);r<t&&(t=r,i=s)}var p=i.peg.position.substract(this.peg.position);this.movementWish=this.peg.heading.rotateTowards(p,e/3)},e.prototype.move=function(e,t){this.peg.heading=this.movementWish,this.peg.executeMovement(e).bounceOfWalls(t)},e.prototype.render=function(e){this.sprite.render(e,this.peg.position,this.peg.heading)},e}();exports.default=o;
},{"../engine/geometry/point2d":"eMjC","../engine/physics/peg":"r8Fl","../engine/view/sprite":"nawu"}],"9B6d":[function(require,module,exports) {
"use strict";var d=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};exports.__esModule=!0;var e=d(require("./engine")),r=d(require("./flock/bird")),i=d(require("./engine/physics/distance_map")),n=d(require("./flock/hunter")),a=new e.default,w=new i.default;a.spawn(new r.default("bird1"),["bird"]).spawn(new r.default("bird2"),["bird"]).spawn(new r.default("bird3"),["bird"]).spawn(new r.default("bird4"),["bird"]).spawn(new r.default("bird5"),["bird"]).spawn(new r.default("bird6"),["bird"]).spawn(new r.default("bird7"),["bird"]).spawn(new r.default("bird8"),["bird"]).spawn(new r.default("bird9"),["bird"]).spawn(new r.default("bird10"),["bird"]).spawn(new r.default("bird11"),["bird"]).spawn(new r.default("bird12"),["bird"]).spawn(new r.default("bird13"),["bird"]).spawn(new r.default("bird14"),["bird"]).spawn(new r.default("bird15"),["bird"]).spawn(new r.default("bird16"),["bird"]).spawn(new r.default("bird17"),["bird"]).spawn(new r.default("bird18"),["bird"]).spawn(new r.default("bird19"),["bird"]).spawn(new r.default("bird20"),["bird"]).spawn(new r.default("bird21"),["bird"]).spawn(new r.default("bird22"),["bird"]).spawn(new r.default("bird23"),["bird"]).spawn(new r.default("bird24"),["bird"]).spawn(new r.default("bird25"),["bird"]).spawn(new r.default("bird26"),["bird"]).spawn(new r.default("bird27"),["bird"]).spawn(new r.default("bird28"),["bird"]).spawn(new r.default("bird29"),["bird"]).spawn(new r.default("bird30"),["bird"]).spawn(new r.default("bird31"),["bird"]).spawn(new r.default("bird32"),["bird"]).spawn(new r.default("bird33"),["bird"]).spawn(new r.default("bird34"),["bird"]).spawn(new r.default("bird35"),["bird"]).spawn(new r.default("bird36"),["bird"]).spawn(new r.default("bird37"),["bird"]).spawn(new r.default("bird38"),["bird"]).spawn(new r.default("bird39"),["bird"]).spawn(new r.default("bird40"),["bird"]).spawn(new n.default("hunter")).start();
},{"./engine":"x7M/","./flock/bird":"11d2","./engine/physics/distance_map":"AkF7","./flock/hunter":"7KDb"}]},{},["9B6d"], null)
//# sourceMappingURL=src.5698d7b2.map